<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title><ui:insert name="title">
			<h:outputText value="#{msg['application.default.title']}" />
		</ui:insert></title>

	<h:outputStylesheet library="css" name="grid.css" />
	<h:outputStylesheet library="css" name="custom.css" />
</h:head>

<h:body style="text-align:center">
	<ui:debug hotkey="x"
		rendered="#{initParam['javax.faces.FACELETS_DEVELOPMENT']}" />

	<div class="ui-grid ui-grid-responsive">


		<ui:insert name="header">
			<ui:include src="/WEB-INF/templates/header.xhtml" />
		</ui:insert>


		<div class="ui-grid-row">
			<div class="ui-grid-col-4">
				<h:form>
					<p:accordionPanel value="#{contentAccordion.contentTrees}"
						var="group" styleClass="panel">
						<p:tab title="#{group.name}" >
							<p:toolbar>
								<f:facet name="left">
									<p:commandButton title="#{msg['toolbar.config.add']}"
										actionListener="#{group.add}"
										update=":messages" icon="ui-icon-plus" />
									
									<p:commandButton title="#{msg['toolbar.config.delete']}"
										icon="ui-icon-trash"
										actionListener="#{group.delete}"
										update=":messages" />
									<p:commandButton title="#{msg['toolbar.config.refresh']}"
										icon="ui-icon-refresh"
										actionListener="#{group.refresh}"
										update=":messages" />
								</f:facet>
							</p:toolbar>
							<p:tree value="#{group.root}" var="node" selectionMode="multiple"
								selection="#{group.selected}" style="width:100%">
								<p:treeNode expandedIcon="#{node.iconOpen}"
									collapsedIcon="#{node.iconClose}">
									<h:outputText value="#{node.name}" />
								</p:treeNode>
								<p:treeNode type="document" icon="#{node.icon}">
									<h:outputText value="#{node.name}" />
								</p:treeNode>
								<p:treeNode type="resource" icon="#{node.icon}">
									<h:outputText value="#{node.name}" />
								</p:treeNode>

							</p:tree>
						</p:tab>
					</p:accordionPanel>
				</h:form>
			</div>
			<div class="ui-grid-col-8">
				<ui:insert name="content">
				</ui:insert>
			</div>
		</div>

		<div class="ui-grid-row">
			<ui:insert name="footer">
				<ui:include src="/WEB-INF/templates/footer.xhtml" />
			</ui:insert>
		</div>
	</div>

</h:body>

</html>
